<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendário</title>
    <style>
        #calendar {
            width: 100%;
            max-width: 300px;
            margin: 0 auto;
            text-align: center;
        }

        #week-days {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            font-weight: bold;
        }

        #days {
            list-style-type: none;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-top: 10px;
        }

        .day {
            width: calc(100% / 7);
            height: 50px;
            line-height: 50px;
            border: 1px solid #ccc;
        }

        .current-month {
            background-color: #fff;
        }

        .today {
            background-color: #f0f0f0;
        }

        .selected {
            background-color: #ccc;
        }
    </style>
</head>
<body>
    <div id="calendar">
        <div id="week-days">
            <span>Domingo</span>
            <span>Segunda</span>
            <span>Terça</span>
            <span>Quarta</span>
            <span>Quinta</span>
            <span>Sexta</span>
            <span>Sábado</span>
        </div>
        <button id="prev-month">Anterior</button>
        <button id="next-month">Próximo</button>
        <div id="month-year"></div>
        <ul id="days"></ul>
    </div>

    <script>
        const calendar = document.getElementById("calendar");
        const days = calendar.querySelector("#days");
        const prevMonth = calendar.querySelector("#prev-month");
        const nextMonth = calendar.querySelector("#next-month");
        const monthYear = calendar.querySelector("#month-year");
        const currentDate = new Date();
        let currentYear = currentDate.getFullYear();
        let currentMonth = currentDate.getMonth();
        const daysOfWeek = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];
        const months = ["Janeiro", "Fevereiro", "Março", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

        let currentCalendar = createCalendar(currentYear, currentMonth);
        renderCalendar(currentCalendar, days);
        monthYear.textContent = `${months[currentMonth]} ${currentYear}`;

        prevMonth.addEventListener("click", () => {
            currentMonth--;
            if (currentMonth < 0) {
                currentYear--;
                currentMonth = 11;
            }
            currentCalendar = createCalendar(currentYear, currentMonth);
            renderCalendar(currentCalendar, days);
            monthYear.textContent = `${months[currentMonth]} ${currentYear}`;
        });

        nextMonth.addEventListener("click", () => {
            currentMonth++;
            if (currentMonth > 11) {
                currentYear++;
                currentMonth = 0;
            }
            currentCalendar = createCalendar(currentYear, currentMonth);
            renderCalendar(currentCalendar, days);
            monthYear.textContent = `${months[currentMonth]} ${currentYear}`;
        });

        function createCalendar(year, month) {
            const firstDayOfMonth = new Date(year, month, 1);
            const lastDayOfMonth = new Date(year, month + 1, 0);
            const daysInMonth = lastDayOfMonth.getDate();
            const dateInWeek = firstDayOfMonth.getDay();
            const calendar = {
                year,
                month,
                days: [],
                dateInWeek
            };

            for (let i = 0; i < dateInWeek; i++) {
                calendar.days.push({
                    date: null,
                    isCurrentMonth: false,
                    isToday: false,
                });
            }

            for (let i = 0; i < daysInMonth; i++) {
                calendar.days.push({
                    date: i + 1,
                    isCurrentMonth: true,
                    isToday: year === currentDate.getFullYear() && month === currentDate.getMonth() && i + 1 === currentDate.getDate(),
                });
            }

            const remainingDays = 42 - calendar.days.length;
            for (let i = 0; i < remainingDays; i++) {
                calendar.days.push({
                    date: null,
                    isCurrentMonth: false,
                    isToday: false,
                });
            }

            return calendar;
        }

        function renderCalendar(calendar, element) {
            element.innerHTML = "";
            calendar.days.forEach((day, index) => {
                const li = document.createElement("li");
                li.classList.add("day");
                li.textContent = day.date ? day.date : '';
                if (day.isCurrentMonth) {
                    li.classList.add("current-month");
                    if (day.isToday) {
                        li.classList.add("today");
                    }
                } else {
                    li.classList.add("other-month");
                }
                li.addEventListener("click", () => {
                    if (li.classList.contains("current-month")) {
                        const currentSelected = document.querySelector(".selected");
                        if (currentSelected) {
                            currentSelected.classList.remove("selected");
                        }
                        li.classList.add("selected");
                    }
                });
                element.appendChild(li);
            });
        }
    </script>
</body>
</html>
